=================
ATOS Benchmarking
=================

The benchmarks results below summarize ATOS tools exploration results on a
variety of benchmarks and platforms.

There are generally three configurations shown depending on the expected
trade-off objectives:

- perf driven: results for the performance objective first
- perf-size driven: results for an equal performance/size objective
- size driven: results for a size objective first

In the results, performance and size are expressed as:

- speed-up: the increase in application speed compared to the standard build
  (positive percentage is better),
- size-reduction: the reduction in code size compared to the standard build
  (positive percentage is better).


ATOS Release 3.0
----------------

The tables below show some benchmarking results from the ATOS exploration performed on various configurations:


The tables below show some benchmarking results from the ATOS exploration performed on various configurations:

+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
| Benchmark id       | atos version    | configuration        | trade-off       | speed-up     |size-reduction|
+====================+=================+======================+=================+==============+==============+
| jpeg  (*)          | 3.0-rc1         | sh4 STLinux gcc-4.7.2| perf driven     |  +30.53%     |  -13.50%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
|                    |                 |   STIH207 board      | perf-size driven|  +27.38%     |   -3.82%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
|                    |                 |                      | size driven     |   +5.83%     |   +1.71%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
| zlib  (**)         | 3.0-rc1         | sh4 STLinux gcc-4.7.2| perf driven     |   +8.37%     |  +14.90%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
|                    |                 |   STIH207 board      | perf-size driven|   idem       |   idem       |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
|                    |                 |                      | size driven     |   -2.58%     |  +25.98%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+

(*) `jpeg v3.0-rc exploration graph <file:./images/atos-v3-jpeg-STIH207.png>`_

(**) `zlib v3.0-rc exploration graph <file:./images/atos-v3-zlib-STIH207.png>`_

SPECint2000 ARM/Android
~~~~~~~~~~~~~~~~~~~~~~~

* run on board u9540 (android 4.1.1)
* build with gcc-4.6.x-google
* small explorations of 125 configurations
* reference is -Os

+--------------------+-----------------+----------------------+-----------------+--------------+
| Benchmark id      | atos version| configuration             | trade-off       | speed-up     |
+===================+=============+===========================+=================+==============+
| 164.gzip.train    | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     | +24.8%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 175.vpr.train     | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     | +16.8%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 176.gcc.train     | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     | +25.4%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 181.mcf.train     | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     |  +5.0%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 186.crafty.train  | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     | +21.1%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 197.parser.train  | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     | +29.3%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 252.eon.train     | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     | +80.1%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 253.perlbmk.train | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     | +22.2%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 254.gap.train     | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     |  +8.6%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 255.vortex.train  | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     | +85.6%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 256.bzip2.train   | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     | +17.7%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 300.twolf.train   | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     | +28.3%       |
+-------------------+-------------+---------------------------+-----------------+--------------+

SPECfp2000 ARM/Android
~~~~~~~~~~~~~~~~~~~~~~

* run on board u9540 (android 4.1.1)
* build with gcc-4.6.x-google
* small explorations of 125 configurations
* reference is -Os

+--------------------+-----------------+----------------------+-----------------+--------------+
| Benchmark id      | atos version| configuration             | trade-off       | speed-up     |
+===================+=============+===========================+=================+==============+
| 177.mesa.train    | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     | +54.4%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 179.art.train     | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     |  +9.2%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 183.equake.train  | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     |  +6.4%       |
+-------------------+-------------+---------------------------+-----------------+--------------+
| 188.ammp.train    | 3.0-rc      | ARM/Android U9540 gcc-4.6 | perf driven     | +82.1%       |
+-------------------+-------------+---------------------------+-----------------+--------------+



ATOS Release 2.0
----------------

The tables below show some benchmarking results from the ATOS exploration performed on various configurations:

+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
| Benchmark id       | atos version    | configuration        | trade-off       | speed-up     |size-reduction|
+====================+=================+======================+=================+==============+==============+
| jpeg  (*)          | 2.0-rc1         | sh4 STLinux gcc-4.7.1| perf driven     |  +26.39%     |  -13.37%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
|                    |                 |   sdk7108 board      | perf-size driven|  +25.21%     |   -8.66%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
|                    |                 |                      | size driven     |   +4.40%     |   +1.54%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
| zlib  (**)         | 2.0-rc1         | sh4 STLinux gcc-4.7.1| perf driven     |  +12.54%     |   -1.41%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
|                    |                 |   sdk7108 board      | perf-size driven|   +6.05%     |   +9.88%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
|                    |                 |                      | size driven     |   +0.75%     |  +12.39%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+

(*) `jpeg v2.0-rc exploration graph <file:./images/atos-v2-jpeg-sdk7108.png>`_

(**) `zlib v2.0-rc exploration graph <file:./images/atos-v2-zlib-sdk7108.png>`_

+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
| Benchmark id       | atos version    | configuration        | trade-off       | speed-up     |size-reduction|
+====================+=================+======================+=================+==============+==============+
| sha1  (*)          | 2.0-rc1         | x86_64 QEMU gcc-4.7.2| perf driven     |  +30.39%     |  -15.52%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
|                    |                 |                      | perf-size driven|  +13.60%     |   +3.65%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
|                    |                 |                      | size driven     |   -4.42%     |  +11.05%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
| bzip2  (**)        | 2.0-rc1         | x86_64 QEMU gcc-4.7.2| perf driven     |   +1.73%     |  +18.65%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
|                    |                 |                      | perf-size driven|     idem     |     idem     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+
|                    |                 |                      | size driven     |   -1.55%     |  +21.05%     |
+--------------------+-----------------+----------------------+-----------------+--------------+--------------+

(*) `sha1 exploration graph <file:./images/atos-v2-sha1-qemu-x86-64.png>`_

(**) `bzip2 exploration graph <file:./images/atos-v2-bzip2-qemu-x86-64.png>`_

+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
| Benchmark id      | atos version| configuration             | trade-off       | speed-up     |size-reduction|
+===================+=============+===========================+=================+==============+==============+
| SPEC 401.bzip2 (*)| 2.0-rc1     | ARM/Android QEMU gcc-4.6.2| perf driven     |   +7.15%     |   +1.92%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
|                   |             | (ref is -Os)              | perf-size driven|   +6.98%     |   +2.50%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
|                   |             |                           | size driven     |   +1.36%     |   +4.21%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
| SPEC 429.mcf (*)  | 2.0-rc1     | ARM/Android QEMU gcc-4.6.2| perf driven     |  +23.18%     |   -2.09%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
|                   |             | (ref is -Os)              | perf-size driven|  +21.56%     |   +0.73%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
|                   |             |                           | size driven     |     idem     |     idem     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
| SPEC 470.lbm (*)  | 2.0-rc1     | ARM/Android QEMU gcc-4.6.2| perf driven     |  +39.87%     |  +11.33%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
|                   |             | (ref is -Os)              | perf-size driven|  +39.38%     |  +13.74%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
|                   |             |                           | size driven     |  +36.61%     |  +14.41%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
| SPEC 164.gzip (*) | 2.0-rc1     | ARM/Android QEMU gcc-4.6.2| perf driven     |  +20.15%     |   -2.83%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
|                   |             | (ref is -Os)              | perf-size driven|  +19.71%     |   -1.79%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
|                   |             |                           | size driven     |     idem     |     idem     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
| SPEC 181.mcf (*)  | 2.0-rc1     | ARM/Android QEMU gcc-4.6.2| perf driven     |  +41.44%     |   -2.43%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
|                   |             | (ref is -Os)              | perf-size driven|  +40.19%     |   -0.95%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
|                   |             |                           | size driven     |     idem     |     idem     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
| SPEC 255.vortex   | 2.0-rc1     | ARM/Android QEMU gcc-4.6.2| perf driven     |  +21.97%     |  +11.45%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
|               (*) |             | (ref is -Os)              | perf-size driven|  +21.45%     |  +12.78%     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+
|                   |             |                           | size driven     |     idem     |     idem     |
+-------------------+-------------+---------------------------+-----------------+--------------+--------------+

(*) `401.bzip2 exploration graph <file:./images/atos-v2-401-bzip2-qemu-arm-android.png>`_

(*) `429.mcf exploration graph <file:./images/atos-v2-429-mcf-qemu-arm-android.png>`_

(*) `470.lbm exploration graph <file:./images/atos-v2-470-lbm-qemu-arm-android.png>`_

(*) `164.gzip exploration graph <file:./images/atos-v2-164-gzip-qemu-arm-android.png>`_

(*) `181.mcf exploration graph <file:./images/atos-v2-181-mcf-qemu-arm-android.png>`_

(*) `255.vortex exploration graph <file:./images/atos-v2-255-vortex-qemu-arm-android.png>`_


ATOS Release 1.0
----------------

+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
| Benchmark id       | atos version    | configuration           | trade-off       | speed-up     |size-reduction|
+====================+=================+=========================+=================+==============+==============+
| jpeg               | 1.0             | sh4 STLinux gcc-4.6.3   | perf driven     |  +19.9%      |   -8.5%      |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
|                    |                 |  sdk7108                |                 |              |              |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
| zlib               | 1.0             | sh4 STLinux gcc-4.6.3   | perf driven     |   +3.3%      |   -1.41%     |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
|                    |                 |  sdk7108                |                 |              |              |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
| directfb (*)       | 1.0             | sh4 STLinux gcc-4.6.3   | perf driven     |  +11.7%      |  -16.4%      |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
|                    |                 |  qemu (*)               |                 |              |              |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
| openssl            | 1.0             | sh4 STLinux gcc-4.6.3   | perf driven     |  +8.9% (**)  |   +6.7%      |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
|                    |                 |  sdk7108                |                 |              |              |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
| jpeg               | 1.0             | armv7 STLinux gcc-4.6.2 | perf driven     |  +19.2%      |   -4.2%      |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
|                    |                 |  pandaboard             |                 |              |              |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
| zlib               | 1.0             | armv7 STLinux gcc-4.6.2 | perf driven     |   +3.5%      |  -15.4%      |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
|                    |                 |  pandaboard             |                 |              |              |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
| directfb           | 1.0             | armv7 STLinux gcc-4.6.2 | perf driven     |   +5.5%      |   -2.2%      |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
|                    |                 |  pandaboard             |                 |              |              |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
| openssl            | 1.0             | armv7 STLinux gcc-4.6.2 | perf driven     |   +6.4% (**) |   +3.2%      |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
|                    |                 |  pandaboard             |                 |              |              |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+

(*) no gain if HW accelerated

(**) max speed-up on the 26 crypto algos

+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
| Benchmark id       | atos version    | configuration           | trade-off       | speed-up     |size-reduction|
+====================+=================+=========================+=================+==============+==============+
| EEMBC automotive   | 1.0             | ARM/Android gcc-4.6.2   | perf driven     |  +68.61%     |  -15.81%     |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
|                    |                 |  board u8500            |                 |              |              |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
| EEMBC consumer     | 1.0             | ARM/Android gcc-4.6.2   | perf driven     |   +8.46%     |   -0.81%     |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
|                    |                 |  board u8500            |                 |              |              |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
| EEMBC networking   | 1.0             | ARM/Android gcc-4.6.2   | perf driven     |  +58.39%     |   +4.09%     |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
|                    |                 |  board u8500            |                 |              |              |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
| EEMBC office       | 1.0             | ARM/Android gcc-4.6.2   | perf driven     |   +8.81%     |   -0.35%     |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
|                    |                 |  board u8500            |                 |              |              |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
| EEMBC telecom      | 1.0             | ARM/Android gcc-4.6.2   | perf driven     |  +40.68%     |   -1.13%     |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
|                    |                 |  board u8500            |                 |              |              |
+--------------------+-----------------+-------------------------+-----------------+--------------+--------------+
